---
title: "SmartUI Testing in HyperExecute using Playwright"
sidebarTitle: "Playwright"
keywords: ['smart ui testing in testmu ai', 'smart ui testing in hyperexecute', 'visual  ui testing,image to image comparison', 'free cross browser testing tool', 'regression testing tool', 'perform visual ui testing online', 'compare image to image', 'internet explorer 9 browser test', 'test on samsung a7 online', 'test on mac 10.11 el capitan online', 'apple mac el capitan virtual machine']
---

import { BrandName } from "/snippets/BrandName.mdx";

import { GitHubButton } from '/snippets/GitHubButton.mdx';


This documentation will guide you step-by-step to execute the SmartUI tests on the HyperExecute platform using Playwright.

## Prerequisites

- Your <BrandName /> [Username and Access key](/support/docs/hyperexecute-how-to-get-my-username-and-access-key/)
- [HyperExecute CLI](/support/docs/hyperexecute-cli-run-tests-on-hyperexecute-grid/) in order to initiate a test execution Job .
- Setup the [Environment Variable](/support/docs/hyperexecute-environment-variable-setup/)
- [HyperExecute YAML](/support/docs/hyperexecute-yaml-version0.2/) file which contains all the necessary instructions.
- To run SmartUI tests, you need to have a **Baseline Image** and a **Comparison Image**. A baseline image is the reference image with which you want to compare. You can either upload this image from your computer or take a screenshot from your browser.

<Info>
**After creating the project, you will get your `PROJECT_TOKEN`. You need to keep this project token safe as it will be used in the further steps below.**

</Info>

## Step 1: Configure Your Test Suite

You can use your own project to configure and test it. For demo purposes, we are using the sample repository.

<Tip>
**Sample repo**

Download or Clone the code sample for the Playwright JavaScript from the <BrandName /> GitHub repository to run the tests on the HyperExecute.

<GitHubButton url="https://github.com/LambdaTest/HyperExecute-Playwright-Vanilla-JavaScript/tree/smart-ui" />
</Tip>

If you are using your own project, make sure you update the **CDP endpoint** in your tests file.

By setting up the CDP endpoint, you establish the communication channel between your tests and the browser nodes, enabling effective test distribution and execution.

```bash
wsEndpoint: `wss://cdp.lambdatest.com/playwright?capabilities=${encodeURIComponent(JSON.stringify(capabilities))}`
```

Configure the desired capabilities based on your test requirements. For example:

```bash
const capabilities = {
  'browserName': 'Chrome', // Browsers allowed: `Chrome`, `MicrosoftEdge`, `pw-chromium`, `pw-firefox` and `pw-webkit`
  'browserVersion': 'latest',
  'LT:Options': {
    'platform': process.env.HYPEREXECUTE_PLATFORM,
    'build': 'Playwright SmartUI Build',
    'name': 'Playwright SmartUI Test',
    'user': process.env.LT_USERNAME,
    'accessKey': process.env.LT_ACCESS_KEY,
    'network': true,
    'video': true,
    'console': true,
    'smartUIProjectName': process.env.SMARTUI_PROJECT || 'SmartUI-PW',
    'smartUIBaseline': true
  }
}
```

<Warning>
You can also use **dev** and **beta** browser versions. To generate capabilities for your test requirements, you can use our inbuilt ðŸ”— <a href="https://www.lambdatest.com/capabilities-generator/">Capabilities Generator Tool</a>.
</Warning>


## Step 2: Setup the CLI in your Test Suite

After cloning / downloading the sample repo, you need to setup the CLI and the environment variables.

### Download the HyperExecute CLI

The CLI is used for triggering the tests on HyperExecute. It is recommend to download the CLI binary on the host system and keep it in the root directory of the suite to perform the tests on HyperExecute.

You can download the CLI for your desired platform from the below mentioned links:

| Platform | HyperExecute CLI |
| ---------| ---------------- |
| Windows | https://downloads.lambdatest.com/hyperexecute/windows/hyperexecute.exe |
| MacOS | https://downloads.lambdatest.com/hyperexecute/darwin/hyperexecute |
| Linux | https://downloads.lambdatest.com/hyperexecute/linux/hyperexecute |

### Setup Environment Variable

Now, you need to export your environment variables *LT_USERNAME* and *LT_ACCESS_KEY* that are available in the [<BrandName /> Profile page](https://accounts.lambdatest.com/detail/profile).

Run the below mentioned commands in your terminal to setup the CLI and the environment variables.

<Tabs className="docs__val">

<Tab title="Linux / MacOS">

  ```bash

  export LT_USERNAME="YOUR_LAMBDATEST_USERNAME"
export LT_ACCESS_KEY="YOUR_LAMBDATEST_ACCESS_KEY"
  
```

</Tab>

<Tab title="Windows">

  ```powershell

  set LT_USERNAME="YOUR_LAMBDATEST_USERNAME"
set LT_ACCESS_KEY="YOUR_LAMBDATEST_ACCESS_KEY"
  
```

</Tab>
</Tabs>

## Step 3: Configure YAML in your Test Suite

Configure your YAML file as per your use cases using **key value** pairs.

In this sample YAML file, we have mentioned:

- **version** of the YAML file
- **Timeouts** for executing your project
- **Pre** command
- and other necessary YAML Parameters

```yaml
---
version: 0.1
globalTimeout: 150
testSuiteTimeout: 150
testSuiteStep: 150

runson: win

retryOnFailure: true
maxRetries: 1

concurrency: 1

env:
  CACHE_DIR: m2_cache_dir

# Dependency caching for Windows
cacheKey: '{{ checksum "pom.xml" }}'
cacheDirectories:
  - ${CACHE_DIR}

matrix:
  classname: ["pw-smartui.js"]

pre:
  # install playwright version to be used.
  - npm install playwright@1.42.0 --save-exact

testSuites:
  - node hooks/pw-smartui.js

jobLabel: ['HYP', 'Playwright' 'SmartUI']

```

## Step 4: Execute your Test Suite

<Warning>
**NOTE :** In case of MacOS, if you get a permission denied warning while executing CLI, simply run **`chmod u+x ./hyperexecute`** to allow permission. In case you get a security popup, allow it from your **System Preferences** â†’ **Security & Privacy** â†’ **General tab**.
</Warning>


Run the below command in your terminal at the root folder of the project:

```bash
./hyperexecute --config RELATIVE_PATH_OF_YOUR_YAML_FILE
```

OR use this command if you have not exported your username and access key in the step 3.

```bash

    ./hyperexecute --user YOUR_LAMBDATEST_USERNAME --key YOUR_LAMBDATEST_ACCESS_KEY --config RELATIVE_PATH_OF_YOUR_YAML_FILE 
  
```

## Step 5: Monitor the Test Execution

- Visit the [HyperExecute Dashboard](https://hyperexecute.lambdatest.com/hyperexecute) and check your Job status. Click on the **Approved** button. 

<img loading="lazy" src='/assets/images/hyperexecute/integration/lt-products/smart-ui/playwright/1.png' alt="automation-dashboard"  width="1920" height="868" />

- This will redirect you the SmartUI dashboard where you can see all the images you have pushed for the testing.

<img loading="lazy" src='/assets/images/hyperexecute/integration/lt-products/smart-ui/playwright/2.png' alt="automation-dashboard"  width="1920" height="868" />

- Now you can make the changes in the UI as per your requirement and trigger the Job once again.

- Again click on the **Apprved** button again.

<img loading="lazy" src='/assets/images/hyperexecute/integration/lt-products/smart-ui/playwright/3.png' alt="automation-dashboard"  width="1920" height="868" />

- Now, you will find two builds in your dashboard. One will be the **Baseline Build** and the other one will be the **Non Baseline Build**

<img loading="lazy" src='/assets/images/hyperexecute/integration/lt-products/smart-ui/playwright/4.png' alt="automation-dashboard"  width="1920" height="868" />

- Open any screenshot from the **Non Baseline Build**, and you can see the comparison between the two screenshots, i.e. the Baseline Image and the Non Baseline Image.

- You can now approve or reject the changes directly from the dashboard as well.

<img loading="lazy" src='/assets/images/hyperexecute/integration/lt-products/smart-ui/playwright/5.png' alt="automation-dashboard"  width="1920" height="868" />
