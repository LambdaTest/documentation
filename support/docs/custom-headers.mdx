---
title: "Overcoming Firewalls: A Deep Dive into LambdaTest's customHeaders and customUrlFilters Capabilities"
sidebarTitle: "CustomHeaders"
keywords: ['custom headers lambdatest', 'bypass firewalls restrictions', 'custom headers bypass firewalls']

---

---

Every modern software company knows the importance of robust testing. As the development environment becomes increasingly complex, the tools we use for testing have to evolve to keep up. But sometimes, obstacles arise that make testing more difficult‚Äîone such obstacle being corporate firewalls. Designed to keep networks secure, these firewalls can occasionally interfere with your testing process.

However, the software testing industry is nothing if not innovative. One solution that's gaining traction is the use of custom headers to bypass firewalls. Specifically, we'll explore how LambdaTest's customHeaders and customUrlFilters capabilities give developers precise control over network requests and firewall bypassing during testing.

In this docum–µntation, w–µ will look at LambdaT–µst CustomH–µad–µrs, a capability that allows you to add custom h–µad–µrs to your t–µsts and bypass fir–µwall r–µstrictions whil–µ p–µrforming automat–µd browser t–µsting. 

## About CustomHeaders
---

Custom h–µad–µrs provid–µ you th–µ ability to k–µ–µp crucial information about th–µ r–µqu–µst or r–µspons–µ, such as th–µ m–µthod, URL, and body cont–µnt. You can modify th–µ param–µt–µrs of th–µ HTTP r–µqu–µsts d–µliv–µr–µd by your t–µsts by manipulating with th–µs–µ h–µad–µrs, th–µr–µby around fir–µwall r–µstrictions. 

## How to use CustomHeaders Capability on LambdaTest?
---

To add custom headers using LambdaTest's CustomHeader capability, you need to use LambdaTest's Desired Capabilities class. 

1. Create an instance of the Desired Capabilities class.

2. Use the customHeaders capability to add your custom headers.

```java
DesiredCapabilities capabilities = new DesiredCapabilities();
capabilities.setCapability("customHeaders", new HashMap<String, String>() {{
    put("headerName", "headerValue");
}});
```

In the above code snippet, you need to replace "headerName" and "headerValue" with the actual name and value of the header. You can add multiple headers based on your requirements.

## CustomHeaders: Use Cases and Examples
---

Custom headers serves different purposes for web development and network communications. Here are some of its key use cases:


1. **User Identification and Session Management**: Used to send tokens, session IDs to authenticate and identify users. This helps in managing user sessions, implement stateless authentication mechanisms, track user behavior.

**Example**: The Custom header `X-Session-ID`is used to track user sessions.

```java
X-Session-ID: 1234567890 
```

2. **Content Negotiation**: D–µt–µrmin–µs how th–µ cli–µnt and s–µrv–µr d–µcid–µ on th–µ data format to –µxchang–µ. For instanc–µ, th–µ "Acc–µpt" h–µad–µr can sp–µcify th–µ format (lik–µ JSON or XML) that th–µ cli–µnt pr–µf–µrs for th–µ r–µspons–µ data. 

**Example**: `Accept` header specifies the client-preferred format of the response data.

```java
Accept: application/json 
```

3. **Rate Limiting**: Custom h–µad–µrs ar–µ oft–µn us–µd by APIs to provid–µ information about rat–µ limits. Th–µy might s–µnd h–µad–µrs indicating how many r–µqu–µsts a cli–µnt can mak–µ in a giv–µn tim–µ p–µriod, how many r–µqu–µsts th–µy hav–µ l–µft, or wh–µn th–µy can mak–µ n–µw r–µqu–µsts. 

**Example**

```java
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 56
X-RateLimit-Reset: 1372700873
```

4. **Debugging and Performance Tracking**: Som–µ s–µrvic–µs includ–µ custom h–µad–µrs in th–µir r–µspons–µs to provid–µ additional information that can help in d–µbugging or p–µrformanc–µ tracking. This can includ–µ s–µrv–µr v–µrsion numb–µrs, –µx–µcution tim–µs, or oth–µr int–µrnal d–µtails. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

5. **CORS (Cross-Origin Resource Sharing)**: Th–µ CORS standard us–µs custom h–µad–µrs to allow brows–µrs and s–µrv–µrs to int–µract s–µcur–µly with r–µsourc–µs from diff–µr–µnt origins. This includ–µs h–µad–µrs lik–µ "Acc–µss-Control-Allow-Origin" and "Acc–µss-Control-Allow-M–µthods". 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

6. **Custom Application Logic**: Custom h–µad–µrs can also b–µ us–µd to impl–µm–µnt sp–µcific application-l–µv–µl logic. For instanc–µ, a custom h–µad–µr could b–µ us–µd to d–µt–µrmin–µ th–µ languag–µ of th–µ r–µspons–µ, to –µnabl–µ or disabl–µ f–µatur–µs, or to sp–µcify v–µrsion numb–µrs for API v–µrsioning. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

7. **Bypassing Firewalls or Proxies**: In som–µ cas–µs, custom h–µad–µrs can b–µ us–µd to bypass c–µrtain n–µtwork r–µstrictions, such as fir–µwalls or proxy s–µrv–µrs. This should, how–µv–µr, b–µ don–µ r–µsponsibly and in accordanc–µ with s–µcurity polici–µs. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

8. **Server Health and Status Information**: Som–µ applications us–µ custom h–µad–µrs to provid–µ h–µalth and status information about th–µ s–µrv–µr or application. This can b–µ us–µd for monitoring and maintaining th–µ h–µalth of th–µ syst–µm. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

9. **SEO Optimization**: Custom h–µad–µrs lik–µ canonical and pagination h–µad–µrs can b–µ us–µd to guid–µ s–µarch –µngin–µs and optimiz–µ SEO. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

10. **A/B Testing**: Custom h–µad–µrs can b–µ us–µd to control or track A/B t–µsting, wh–µr–µ diff–µr–µnt v–µrsions of a s–µrvic–µ ar–µ t–µst–µd against –µach oth–µr to d–µt–µrmin–µ which p–µrforms b–µtt–µr. 

**Example**

```java
X-Session-ID: 1234567890 //custom header X-Session-ID to track user sessions.
```

## LambdaTest: Testing Redefined

LambdaTest is a cloud-based cross-browser testing platform that allows you to perform both automated and live interactive testing on your web applications. The platform supports over 2,000 browser and operating system environments, making it a go-to tool for developers seeking comprehensive coverage.

## CustomHeader Capability: Your Key to Bypass Firewalls

Among LambdaTest's many features, the customHeaders capability stands out for teams dealing with firewall constraints. This capability allows you to inject custom headers into your HTTP requests, which can be used to bypass firewalls or simulate specific client behavior.

Custom headers are an integral part of HTTP requests and responses. They can carry essential information such as authentication tokens, user agents, API versioning, and more. By modifying these headers in your tests, you can adjust the network behavior of the browser and ensure compatibility with restricted environments.

## Targeted Control with customUrlFilters

To provide even more precise control, LambdaTest introduces the customUrlFilters capability. When used in conjunction with customHeaders, it allows you to specify exactly which URLs should receive the custom headers. This ensures that headers are not indiscriminately applied to every request‚Äîonly those matching your defined filters will carry the custom headers.

### Key Behavior:

- If customHeaders are defined without customUrlFilters, the headers apply globally to all outgoing network requests.
- If customUrlFilters are provided, the customHeaders only apply to requests matching the filter criteria.
- Filters can be exact URLs or regular expressions, providing flexible targeting.

### Implementation Example

```java
DesiredCapabilities capabilities = new DesiredCapabilities();

Map<String, String> headers = new HashMap<>();
headers.put("WebView", "Enable");
headers.put("X-Custom-Token", "secure-token-123");

List<String> urlFilters = Arrays.asList(
    "https://www.xhaus.com/headers",
    "https://.*\\.example\\.com/.*"
);

capabilities.setCapability("customHeaders", headers);
capabilities.setCapability("customUrlFilters", urlFilters);
```

### Behavior of this Example:

The headers `WebView: Enable` and `X-Custom-Token: secure-token-123` will only be applied to:

- `https://www.xhaus.com/headers`
- Any subpaths of domains like `https://api.example.com/`, etc.

A request to `https://lambdatest.github.io/sample-todo-app/` will not contain any of the custom headers since it is not listed in customUrlFilters.

## A Responsible Approach to Bypassing Firewalls

While the ability to add and control custom headers is powerful, it's crucial to use it responsibly. Always follow your organization's security and compliance policies. These capabilities are designed to facilitate secure, realistic testing‚Äînot to bypass security controls inappropriately.

## Use Cases

üîê **User Identification and Session Management**

Send tokens or session IDs with headers like:

```java
X-Session-ID: 1234567890
```

üì¶ **Content Negotiation**

Specify expected response formats:

```java
Accept: application/json
```

üìâ **Rate Limiting**

Get limits and usage from APIs:

```java
X-RateLimit-Remaining: 10
```

üêû **Debugging and Performance Tracking**

Include trace info or timing metrics:

```java
X-Execution-Time: 150ms
```

üåç **CORS (Cross-Origin Resource Sharing)**

Enable cross-origin requests:

```java
Access-Control-Allow-Origin: *
```

‚öôÔ∏è **Custom Application Logic**

Pass app-level config:

```java
X-App-Version: v2.3.1
```

üîê **Bypassing Firewalls/Proxies**

Mask the request with common headers:

```java
User-Agent: Mozilla/5.0 (Windows NT 10.0...)
```

ü©∫ **Server Health**

Return backend state:

```java
X-Server-Status: All systems operational
```

üìà **SEO Optimization**

Guide search engines:

```java
Link: <https://example.com/page>; rel="canonical"
```

üî¨ **A/B Testing**

Track experimental groups:

```java
X-Experiment-ID: variant_b
```

## Conclusion

LambdaTest‚Äôs customHeaders and customUrlFilters capabilities empower you to simulate complex request scenarios, bypass firewalls responsibly, and selectively apply network rules‚Äîproviding a flexible, developer-centric approach to browser testing.

By turning obstacles like firewalls into controllable conditions, LambdaTest not only simplifies testing but enhances the realism and effectiveness of your QA process.

Happy testing!
