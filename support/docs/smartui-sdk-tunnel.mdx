---
title: "Using TestMu AI Tunnel with SmartUI SDK"
sidebarTitle: "Tunnel Configuration"
keywords: ['Visual Regression', 'SmartUI SDK', 'TestMu AI Tunnel', 'Local Testing', 'Internal Testing']
---

import { BrandName } from "/snippets/BrandName.mdx";

<BrandName /> Tunnel enables secure testing of your local, development, or privately hosted environments using SmartUI SDK. This guide explains how to configure and use <BrandName /> Tunnel with SmartUI SDK.

<Warning>
**Important**

Tunnel configuration is only supported with the `exec` mode of SmartUI SDK. It is not compatible with
`capture`, `upload`, or `figma` commands. For more information about exec mode, refer to our [SmartUI CLI Exec
documentation](/support/docs/smartui-cli-exec/).
</Warning>

## Prerequisites

- Working knowledge of npm CLI commands
- Understanding of tunneling concepts for local testing
- Valid <BrandName /> credentials (username and access key)
- Familiarity with SmartUI CLI configuration files
- SmartUI CLI installed and configured

## Configuration Options

<BrandName /> Tunnel supports two configuration modes:

### 1. Automatic Tunnel Configuration

For automatic tunnel setup, add the following configuration to your `.smartui.json` file:

```json
{
  "tunnel": {
    "type": "auto",
    "user": "<testmu ai-user>",  // Optional: Overrides LT_USERNAME if present in env
    "key": "<testmu ai-accesskey>",  // Optional: Overrides LT_ACCESS_KEY if present in env
    "port": "<port>",  // Optional: Default port if not specified
    "proxyHost": "127.0.0.1",  // Optional
    "proxyPort": "8000",  // Optional
    "proxyUser": "user",  // Optional: Proxy authentication
    "proxyPass": "password",  // Optional: Proxy authentication
    "dir": "<path-to-local-folder>",  // Optional: Directory to test
    "v": true,  // Optional: Enable verbose logging
    "logFile": "/path/to/logs.txt"  // Optional: Custom log file location
  }
}
```

### 2. Manual Tunnel Configuration

For manual tunnel setup, add the following configuration:

```json
{
  "tunnel": {
    "type": "manual",
    "tunnelName": "my-tunnel-name"  // Required for manual mode
    //Add user and key in case LT_USERNAME and LT_ACCESSKEY not provided in env variables
  }
}
```

<Note>
**Configuration values take precedence over environment variables when both are present.**

</Note>

## Environment Variables Support

The tunnel configuration automatically uses the following environment variables if not specified in the config:

- `LT_USERNAME`: <BrandName /> username
- `LT_ACCESS_KEY`: <BrandName /> access key

## Example Configurations

### Basic Automatic Setup
```json
{
  "web": {
    "browsers": ["chrome", "firefox"],
    "viewports": [[1920, 1080], [1366, 768]]
  },
  "tunnel": {
    "type": "auto"
      //Add user and key in case LT_USERNAME and LT_ACCESSKEY not provided in env variables

  }
}
```

### Advanced Automatic Setup with Proxy
```json
{
  "web": {
    "browsers": ["chrome", "firefox"],
    "viewports": [[1920, 1080], [1366, 768]]
  },
  "tunnel": {
    "type": "auto",
    "user": "<testmu ai-user>",  // Optional: Overrides LT_USERNAME if present in env
    "key": "<testmu ai-accesskey>",  // Optional: Overrides LT_ACCESS_KEY if present in env
    "proxyHost": "127.0.0.1",
    "proxyPort": "8000",
    "dir": "./src",
    "v": true
  }
}
```

### Manual Tunnel Setup
```json
{
  "web": {
    "browsers": ["chrome", "firefox"],
    "viewports": [[1920, 1080], [1366, 768]]
  },
  "tunnel": {
    "type": "manual",
    "tunnelName": "my-tunnel",
    "user": "<testmu ai-user>",  // Optional: Overrides LT_USERNAME if present in env
    "key": "<testmu ai-accesskey>",  // Optional: Overrides LT_ACCESS_KEY if present in env
  }
}
```

## Best Practices

<Tabs className='docs__val' groupId='best-practices'>
<Tab title="Automatic vs Manual Mode">

**Automatic vs Manual Mode**

- Use automatic mode for simple setups and quick testing
   - Use manual mode when you need more control over tunnel lifecycle

</Tab>
<Tab title="Credentials Management">

**Credentials Management**

- Prefer environment variables for sensitive information
   - Use config file for non-sensitive settings

</Tab>
<Tab title="Proxy Configuration">

**Proxy Configuration**

- Specify proxy settings in config when using corporate networks
   - Test proxy settings before running full test suite

</Tab>
<Tab title="Logging">

**Logging**

- Enable verbose logging (`"v": true`) for troubleshooting
   - Specify custom log file location for persistent logs

</Tab>
<Tab title="Directory Testing">

**Directory Testing**

- Always specify the directory to test when working with local files
   - Ensure the directory path is accessible and contains the necessary files

<Tip>
**For more detailed information about <BrandName /> Tunnel features and configurations, refer to our [Advanced Tunnel Features documentation](/support/docs/advanced-tunnel-features).**

</Tip>

</Tab>
</Tabs>

1. **Automatic vs Manual Mode**
   - Use automatic mode for simple setups and quick testing
   - Use manual mode when you need more control over tunnel lifecycle

2. **Credentials Management**
   - Prefer environment variables for sensitive information
   - Use config file for non-sensitive settings

3. **Proxy Configuration**
   - Specify proxy settings in config when using corporate networks
   - Test proxy settings before running full test suite

4. **Logging**
   - Enable verbose logging (`"v": true`) for troubleshooting
   - Specify custom log file location for persistent logs

5. **Directory Testing**
   - Always specify the directory to test when working with local files
   - Ensure the directory path is accessible and contains the necessary files

<Tip>
**For more detailed information about <BrandName /> Tunnel features and configurations, refer to our [Advanced Tunnel Features documentation](/support/docs/advanced-tunnel-features).**

</Tip>
